extends layout.pug

block content
  .dashboard
    .hero-section
      h1.hero-title üöÄ Express Middleware App —Å MongoDB Atlas
      p.hero-subtitle –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –æ–±–ª–∞—á–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    
    .stats-section
      h2.section-title üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      .stats-grid
        .stat-card
          .stat-icon üë•
          .stat-number= stats.totalUsers
          .stat-label –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        .stat-card
          .stat-icon üìù
          .stat-number= stats.totalArticles
          .stat-label –í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π
        .stat-card
          .stat-icon ‚úÖ
          .stat-number= stats.publishedArticles
          .stat-label –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ
        .stat-card
          .stat-icon üìã
          .stat-number= stats.draftArticles
          .stat-label –ß–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
    
    .content-section
      .content-grid
        .content-card
          h3.content-title üë• –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
          if users && users.length > 0
            .user-list
              each user in users
                .user-item
                  .user-avatar= user.name.charAt(0).toUpperCase()
                  .user-info
                    .user-name= user.name
                    .user-email= user.email
                    .user-role
                      span.role-badge(class=`role-${user.role}`)= user.role
            .content-action
              a.btn.btn-primary(href="/users") –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
          else
            .no-data
              p –ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
              a.btn.btn-primary(href="/users") –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
        
        .content-card
          h3.content-title üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
          if articles && articles.length > 0
            .article-list
              each article in articles
                .article-item
                  .article-title
                    a(href=`/articles/${article._id}`)= article.title
                  .article-meta
                    span.article-author= article.author ? article.author.name : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∞–≤—Ç–æ—Ä'
                    span.article-date= new Date(article.publishedAt).toLocaleDateString('ru-RU')
                  .article-excerpt= article.excerpt
            .content-action
              a.btn.btn-primary(href="/articles") –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Å—Ç–∞—Ç—å–∏
          else
            .no-data
              p –ù–µ—Ç —Å—Ç–∞—Ç–µ–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
              a.btn.btn-primary(href="/articles") –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å—Ç–∞—Ç—å—è–º
    
    .features-section
      h2.section-title ‚ö° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
      .features-grid
        .feature-card
          .feature-icon üîê
          .feature-title –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
          .feature-desc Passport.js —Å —Å–µ—Å—Å–∏—è–º–∏ –∏ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
        .feature-card
          .feature-icon üóÑÔ∏è
          .feature-title –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
          .feature-desc MongoDB Atlas —Å Mongoose ODM
        .feature-card
          .feature-icon üé®
          .feature-title –®–∞–±–ª–æ–Ω—ã
          .feature-desc PUG –∏ EJS —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º
        .feature-card
          .feature-icon ‚úÖ
          .feature-title –í–∞–ª–∏–¥–∞—Ü–∏—è
          .feature-desc Joi –∏ Celebrate –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        .feature-card
          .feature-icon üîí
          .feature-title –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
          .feature-desc Middleware –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
        .feature-card
          .feature-icon üì±
          .feature-title –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
          .feature-desc –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

style.
  .dashboard {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
  }
  
  .hero-section {
    text-align: center;
    margin-bottom: 40px;
    padding: 40px 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    color: white;
  }
  
  .hero-title {
    font-size: 3em;
    margin: 0 0 20px 0;
    font-weight: bold;
  }
  
  .hero-subtitle {
    font-size: 1.2em;
    margin: 0;
    opacity: 0.9;
  }
  
  .section-title {
    text-align: center;
    margin: 40px 0 30px 0;
    font-size: 2em;
    color: #333;
  }
  
  .stats-section {
    margin-bottom: 40px;
  }
  
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
  }
  
  .stat-card {
    background: white;
    padding: 30px 20px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: transform 0.2s;
  }
  
  .stat-card:hover {
    transform: translateY(-5px);
  }
  
  .stat-icon {
    font-size: 3em;
    margin-bottom: 15px;
  }
  
  .stat-number {
    font-size: 2.5em;
    font-weight: bold;
    color: #007bff;
    margin-bottom: 10px;
  }
  
  .stat-label {
    color: #666;
    font-size: 1.1em;
  }
  
  .content-section {
    margin-bottom: 40px;
  }
  
  .content-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 30px;
  }
  
  .content-card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }
  
  .content-title {
    margin: 0 0 20px 0;
    font-size: 1.5em;
    color: #333;
    border-bottom: 2px solid #f0f0f0;
    padding-bottom: 10px;
  }
  
  .user-list, .article-list {
    margin-bottom: 20px;
  }
  
  .user-item, .article-item {
    display: flex;
    align-items: center;
    padding: 15px 0;
    border-bottom: 1px solid #f0f0f0;
  }
  
  .user-item:last-child, .article-item:last-child {
    border-bottom: none;
  }
  
  .user-avatar {
    width: 40px;
    height: 40px;
    background: #007bff;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-right: 15px;
  }
  
  .user-info {
    flex: 1;
  }
  
  .user-name {
    font-weight: bold;
    margin: 0 0 5px 0;
    color: #333;
  }
  
  .user-email {
    color: #666;
    font-size: 0.9em;
    margin: 0 0 5px 0;
  }
  
  .role-badge {
    padding: 3px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: bold;
    text-transform: uppercase;
  }
  
  .role-admin {
    background: #dc3545;
    color: white;
  }
  
  .role-user {
    background: #28a745;
    color: white;
  }
  
  .article-title {
    flex: 1;
    margin-bottom: 5px;
  }
  
  .article-title a {
    color: #333;
    text-decoration: none;
    font-weight: bold;
  }
  
  .article-title a:hover {
    color: #007bff;
  }
  
  .article-meta {
    display: flex;
    gap: 15px;
    font-size: 0.9em;
    color: #666;
    margin-bottom: 5px;
  }
  
  .article-excerpt {
    color: #555;
    font-size: 0.9em;
    line-height: 1.4;
  }
  
  .content-action {
    text-align: center;
    padding-top: 20px;
    border-top: 1px solid #f0f0f0;
  }
  
  .no-data {
    text-align: center;
    padding: 40px 20px;
    color: #666;
  }
  
  .features-section {
    margin-bottom: 40px;
  }
  
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
  }
  
  .feature-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: transform 0.2s;
  }
  
  .feature-card:hover {
    transform: translateY(-3px);
  }
  
  .feature-icon {
    font-size: 3em;
    margin-bottom: 15px;
  }
  
  .feature-title {
    font-size: 1.2em;
    font-weight: bold;
    color: #333;
    margin-bottom: 10px;
  }
  
  .feature-desc {
    color: #666;
    line-height: 1.5;
  }
  
  .btn {
    display: inline-block;
    padding: 12px 24px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
    transition: all 0.2s;
  }
  
  .btn-primary {
    background: #007bff;
    color: white;
  }
  
  .btn-primary:hover {
    background: #0056b3;
    transform: translateY(-1px);
  } 